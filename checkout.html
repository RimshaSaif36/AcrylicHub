<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - Acrylic Hub - Secure Payment</title>
    <meta name="description" content="Complete your purchase securely at Acrylic Hub's checkout. Provide your details and choose Cash on Delivery for a hassle-free experience.">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="checkout.css">
</head>
<body class="checkout-page">

<header>
    <div class="logo">
        <a href="index.html" class="logo-text">Acrylic Hub</a>
    </div>
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="shop.html">Shop</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="cart.html">Cart (<span id="cart-count">0</span>)</a></li>
        </ul>
    </nav>
</header>

<main>
    <div class="checkout-container">
        <h2>Checkout</h2>

        <!-- Cart Items -->
        <div class="checkout-cart">
            <h3>Your Cart</h3>
            <div class="cart-items">
                <!-- Cart items will be dynamically injected here -->
            </div>
            <div class="cart-summary">
                <p>Subtotal: <span class="subtotal-price">PKR 0</span></p>
                <p>Shipping: <span class="shipping-price">PKR 200</span></p>
                <p><strong>Total: <span class="total-price">PKR 0</span></strong></p>
            </div>
        </div>

        <!-- User Details Form -->
        <form class="checkout-form" id="checkout-form">
            <h3>Billing Details</h3>
            <div class="form-group">
                <label for="name">Full Name</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div class="form-group">
                <label for="address">Address</label>
                <input type="text" id="address" name="address" required>
            </div>
            <div class="form-group">
                <label for="phone">Phone Number</label>
                <input type="tel" id="phone" name="phone" required>
            </div>
            <div class="form-group">
                <label for="payment">Payment Option</label>
                <select id="payment" name="payment">
                    <option value="cod">Cash on Delivery</option>
                </select>
            </div>
            <button type="submit" class="place-order-btn">Place Order</button>
        </form>
    </div>
</main>

<footer>
    <div class="footer-container">
        <div class="footer-column">
            <h3 class="logo-text">Acrylic Hub</h3>
            <p>Your one-stop shop for the latest trends in fashion. We are committed to providing high-quality clothing at affordable prices.</p>
        </div>
        <div class="footer-column">
            <h3>Customer Service</h3>
            <ul>
                <li><a href="#">Contact Us</a></li>
                <li><a href="#">Shipping & Returns</a></li>
                <li><a href="#">FAQ</a></li>
            </ul>
        </div>
        <div class="footer-column">
            <h3>Legal</h3>
            <ul>
                <li><a href="#">Terms of Service</a></li>
                <li><a href="#">Privacy Policy</a></li>
            </ul>
        </div>
        <div class="footer-column">
            <h3>Stay Connected</h3>
            <div class="social-media">
                <!-- Add your social icons -->
            </div>
        </div>
    </div>
    <div class="footer-bottom">
        <p>&copy; 2025 Acrylic Hub. All Rights Reserved.</p>
    </div>
</footer>

<script src="cart.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
    const cartItemsContainer = document.querySelector('.cart-items');
    const subtotalPriceElement = document.querySelector('.subtotal-price');
    const totalPriceElement = document.querySelector('.total-price');
    const shippingPrice = 200;

    const renderCartItems = () => {
        cartItemsContainer.innerHTML = '';
        if (cart.length === 0) {
            cartItemsContainer.innerHTML = '<p>Your cart is empty.</p>';
            subtotalPriceElement.textContent = 'PKR 0';
            totalPriceElement.textContent = `PKR ${shippingPrice}`;
            return;
        }

        let subtotal = 0;
        cart.forEach(item => {
            const itemTotal = item.price * item.quantity ; // converting from cents to PKR
            subtotal += itemTotal;

            const div = document.createElement('div');
            div.classList.add('checkout-cart-item');
            div.innerHTML = `
                <div class="item-name">${item.name} x ${item.quantity}</div>
                <div class="item-price">PKR ${itemTotal.toFixed(0)}</div>
            `;
            cartItemsContainer.appendChild(div);
        });

        subtotalPriceElement.textContent = `PKR ${subtotal.toFixed(0)}`;
        totalPriceElement.textContent = `PKR ${(subtotal + shippingPrice).toFixed(0)}`;
    };

    renderCartItems();

    // Handle order placement
    const checkoutForm = document.getElementById('checkout-form');
    checkoutForm.addEventListener('submit', (e) => {
        e.preventDefault();

        if (cart.length === 0) {
            alert('Your cart is empty!');
            return;
        }

        const order = {
            customer: {
                name: document.getElementById('name').value,
                address: document.getElementById('address').value,
                phone: document.getElementById('phone').value,
                payment: document.getElementById('payment').value
            },
            items: cart,
            total: subtotalPriceElement.textContent,
            shipping: shippingPrice,
            grandTotal: totalPriceElement.textContent,
            date: new Date().toLocaleString()
        };

        // Save order in localStorage
        let orders = JSON.parse(localStorage.getItem('orders')) || [];
        orders.push(order);
        localStorage.setItem('orders', JSON.stringify(orders));

        // Clear cart
        cart.length = 0;
        localStorage.setItem('cart', JSON.stringify(cart));
        window.updateCartCount();

        alert('Order placed successfully!');
        window.location.href = 'index.html'; // Redirect after placing order
    });
});
</script>
</body>
</html>
